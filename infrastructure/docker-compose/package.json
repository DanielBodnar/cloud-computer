{
  "author": "Jackson Delahunt <jackson@jacksondelahunt.com>",
  "description": "The Cloud Computer Docker-Compose Configuration",
  "license": "MIT",
  "name": "@cloud-computer/docker-compose",
  "repository": "git@github.com:cloud-computer/cloud-computer.git",
  "scripts": {
    "up": "yarn up:terminal; yarn up:backend & yarn up:ci & yarn up:code & yarn up:jaeger & yarn up:grafana & wait",
    "up:ci": "yarn up:ci:build & yarn up:ci:drone & wait",
    "up:ci:build": "yarn compose -f stacks/build.yaml up -d",
    "up:ci:drone": "yarn compose -f stacks/drone.yaml up -d",
    "up:code": "yarn compose -f stacks/code.yaml up -d",
    "up:grafana": "yarn compose -f stacks/grafana.yaml up -d",
    "up:istio": "yarn compose -f stacks/istio.yaml up -d",
    "up:jaeger": "yarn compose -f stacks/jaeger.yaml up -d",
    "up:terminal": "yarn compose -f stacks/terminal.yaml up -d",
    "compose": "scripts/compose.sh",
    "down:ci:build": "yarn compose -f stacks/build.yaml down",
    "down:ci:drone": "yarn compose -f stacks/drone.yaml down",
    "down:code": "yarn compose -f stacks/code.yaml down",
    "down:grafana": "yarn compose -f stacks/grafana.yaml down",
    "down:jaeger": "yarn compose -f stacks/jaeger.yaml down",
    "down:terminal": "yarn compose -f stacks/terminal.yaml down",
    "recycle": "yarn stop; yarn --cwd ../containers pull:cloud-computer; yarn start",
    "reload": "yarn --cwd ../docker ps:q --filter name=cloud-computer | xargs -n 1 -P $(cat /proc/cpuinfo | grep processor | wc -l) yarn --cwd ../docker docker restart",
    "restart": "yarn stop; yarn start",
    "restart:ci": "yarn stop:ci; yarn up:ci",
    "restart:ci:build": "yarn stop:ci:build; yarn up:ci:build",
    "restart:ci:drone": "yarn stop:ci:drone; yarn up:ci:drone",
    "restart:code": "yarn stop:code; yarn up:code",
    "restart:grafana": "yarn stop:grafana; yarn up:grafana",
    "restart:istio": "yarn stop:istio; yarn up:istio",
    "restart:jaeger": "yarn stop:jaeger; yarn up:jaeger",
    "restart:terminal": "yarn stop:terminal; yarn up:terminal",
    "rm": "yarn --cwd ../docker docker rm -f $@ 2>/dev/null",
    "stop:ci": "yarn rm $(yarn --cwd ../docker ps:aq --filter label=tier=ci --filter name=${COMPOSE_PROJECT_NAME:-cloud-computer})",
    "stop:ci:build": "yarn rm $(yarn --cwd ../docker ps:aq --filter label=tier=ci --filter label=namespace=build --filter name=${COMPOSE_PROJECT_NAME:-cloud-computer})",
    "stop:ci:drone": "yarn rm $(yarn --cwd ../docker ps:aq --filter label=tier=ci --filter label=namespace=drone --filter name=${COMPOSE_PROJECT_NAME:-cloud-computer})",
    "stop:ci:drone:containers": "yarn rm $(yarn --cwd ../docker ps:aq --filter name=${COMPOSE_PROJECT_NAME:-drone_compose_}); yarn --cwd ../docker docker network rm $(yarn network ls | grep ${COMPOSE_PROJECT_NAME:-drone_compose} | awk '/ / { print $1 }')",
    "stop:code": "yarn rm $(yarn --cwd ../docker ps:aq --filter label=namespace=code)",
    "stop:grafana": "yarn rm $(yarn --cwd ../docker ps:aq --filter label=namespace=grafana --filter name=${COMPOSE_PROJECT_NAME:-cloud-computer})",
    "stop:istio": "yarn rm $(yarn --cwd ../docker ps:aq --filter label=namespace=istio --filter name=${COMPOSE_PROJECT_NAME:-cloud-computer})",
    "stop:jaeger": "yarn rm $(yarn --cwd ../docker ps:aq --filter label=namespace=jaeger --filter name=${COMPOSE_PROJECT_NAME:-cloud-computer})",
    "stop:terminal": "yarn rm $(yarn --cwd ../docker ps:aq --filter label=namespace=terminal --filter name=${COMPOSE_PROJECT_NAME:-cloud-computer})"
  },
  "version": "0.0.1"
}
